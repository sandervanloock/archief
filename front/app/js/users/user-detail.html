<div class="fluid-container view-container">
    <form class="user-detail offset2" name="user-form">

        <h2>Contactgegevens</h2>
        <ul class="nav nav-list">
            <li class="divider"></li>
        </ul>
        <fieldset>
            <label class="control-label" for="firstName">Voornaam</label>
            <input type="text" id="firstName" ng-model="user.first" required/>
            <label class="control-label" for="lastName">Achternaam</label>
            <input type="text" id="lastName" ng-model="user.last" required/>

            <div class="control-group">
                <label for="birthDate" class="control-label">Geboortedatum</label>

                <div class="controls datepicker">
                    <p class="input-append">
                        <input id="birthDate" type="text" class="form-control" datepicker-popup="{{dateFormat}}"
                               ng-model="user.birthDate" datepicker-options="dateOptions"
                               is-open="openedBirthDate" close-text="Sluiten"/>
                        <button class="btn btn-default" ng-click="open($event, 'openedBirthDate')">
                            <i class="glyphicon glyphicon-calendar"></i>
                        </button>
                    </p>
                </div>
            </div>
            <label class="control-label" for="email">Emailadres</label>
            <input type="email" id="email" ng-model="user.email" required/>
            <label class="control-label" for="phone">Telefoonnummer</label>
            <input type="tel" id="phone" ng-model="user.phone"/>
            <label class="control-label" for="mobilePhone">GSM-nummer</label>
            <input type="tel" id="mobilePhone" ng-model="user.mobilePhone"/>
        </fieldset>

        <h2>Adres</h2>
        <ul class="nav nav-list">
            <li class="divider"></li>
        </ul>
        <fieldset class="span10">
            <div class="control-group">
                <label class="row">
                    <div class="span1">Postcode</div>
                    <div class="span8">Plaats</div>
                </label>

                <div class="row">
                    <input type="text" id="postalcode" class="span1" ng-model="user.postalCode"/>
                    <input type="text" id="city" class="span8" ng-model="user.city"/>
                </div>
            </div>
            <div class="control-group">
                <label class="row control-label">
                    <div class="span7">Straat</div>
                    <div class="span1">Nr</div>
                    <div class="span1">Bus</div>
                </label>

                <div class="row">
                    <input type="text" id="street" class="span7" ng-model="user.street"/>
                    <input type="text" id="housenumber" class="span1" ng-model="user.houseNumber"/>
                    <input type="text" id="postalbox" class="span1" ng-model="user.postalBox"/>
                </div>
            </div>
        </fieldset>

        <h2>Chiro carrière</h2>
        <ul class="nav nav-list">
            <li class="divider"></li>
        </ul>
        <fieldset>
            <div class="well span12" ng-repeat="membership in user.memberships" style="margin-left:0px;">
                <div class="control-group span4">
                    <p class="">Chirogroep</p>
                    <select id="chiroGroup" class="span10" ng-change="checkNewmembership()"
                            ng-model="membership.groupid">
                        <option ng-repeat="group in groups" value="{{group.id}}">{{group.name}}</option>
                    </select>
                </div>
                <div class="control-group span4">
                    <label for="birthDate" class="control-label">Van...</label>

                    <div class="input-append span10" ng-model="membership.from" month-year-input
                         ng-change="checkNewmembership()">
                        <input data-format="MM/yyyy" type="text" id="chiroFrom" name="chiroFrom" class="span10"
                               ng-model="membership.from"/>
                                  <span class="add-on">
                                    <i class="glyphicon glyphicon-calendar"></i>
                                  </span>
                    </div>
                </div>
                <div class="control-group span4">
                    <label for="birthDate" class="control-label">Tot...</label>

                    <div id="date" class="input-append span10" ng-model="membership.to" month-year-input
                         ng-change="checkNewmembership()">
                        <input data-format="MM/yyyy" type="text" id="chiroTo" name="chiroTo" class="span10"
                               ng-model="membership.to"/>
                                  <span class="add-on">
                                    <i class="glyphicon glyphicon-calendar"></i>
                                  </span>
                    </div>
                </div>
                <button ng-click="openRemoveMembershipDialog(membership,$index)" class="btn btn-danger"
                        style="float:right;border-radius: 15px;margin-right: -10px;margin-top: -80px;">
                    <i class="glyphicon glyphicon-remove"></i>
                </button>
                <div id="chiroEvents">
                    <table class="table">
                        <tr>
                            <th>Bevestig aanwezigheid</th>
                            <th>Extra info (optioneel)</th>
                        </tr>
                        <tr ng-repeat="milestone in membership.milestones">
                            <td>
                                <label class="checkbox"><input type="checkbox" ng-model="milestone.wasPresent">{{milestone.name}}</label>
                                {{milestone.start | date:'dd/MM/yyyy'}} - {{milestone.end | date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                <input type="text" class="span5" ng-model="milestone.remarks"/>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <button ng-click="addNewMembership()" class="btn btn-primary" type="button"
                    style="margin-bottom: 1em;float:right;">
                Nieuwe chirogroep
            </button>
        </fieldset>

        <h2>60 jaar Chiro Elzestraat</h2>
        <ul class="nav nav-list">
            <li class="divider"></li>
        </ul>
        <fieldset>
            <label class="checkbox">
                <input type="checkbox" ng-model="user.presentOnReunion">
                Ik zal aanwezig zijn op de zondagmiddag 14/09 </label>
            <label class="checkbox">
                <input type="checkbox" ng-model="user.isPhotoBookCandidate">
                Ik ben geïnteresseerd in het DOL fotoboek </label>
        </fieldset>

        <ul class="nav nav-list">
            <li class="divider"></li>
        </ul>

        <fieldset>
            <div class="alert alert-success" ng-show="showSuccessSubmit">
                <strong>Klaar!</strong> U bent met succes geregistreerd.
            </div>
            <div class="alert alert-error" ng-show="showSuccessFailure">
                <strong>Error!</strong> Er is iets misgegaan, probeer het later opniew.
            </div>
            <input type="submit" ng-click="saveUser()" class="btn btn-block btn-primary"
                   style="margin-bottom: 1em;">
            </input>
            <button ng-click="removeUser()" class="btn btn-block btn-danger" type="button">
                Verwijderen
            </button>
        </fieldset>
    </form>
</div>